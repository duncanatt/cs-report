%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
% Math lettering shorthand.
%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

% Shorthand for math calligraphic letters.
\newcommand{\cA}{\ensuremath{\mathcal{A}}\xspace}
\newcommand{\cB}{\ensuremath{\mathcal{B}}\xspace}
\newcommand{\cC}{\ensuremath{\mathcal{C}}\xspace}
\newcommand{\cD}{\ensuremath{\mathcal{D}}\xspace}
\newcommand{\cE}{\ensuremath{\mathcal{E}}\xspace}
\newcommand{\cF}{\ensuremath{\mathcal{F}}\xspace}
\newcommand{\cG}{\ensuremath{\mathcal{G}}\xspace}
\newcommand{\cH}{\ensuremath{\mathcal{H}}\xspace}
\newcommand{\cI}{\ensuremath{\mathcal{I}}\xspace}
\newcommand{\cJ}{\ensuremath{\mathcal{J}}\xspace}
\newcommand{\cK}{\ensuremath{\mathcal{K}}\xspace}
\newcommand{\cL}{\ensuremath{\mathcal{L}}\xspace}
\newcommand{\cM}{\ensuremath{\mathcal{M}}\xspace}
\newcommand{\cN}{\ensuremath{\mathcal{N}}\xspace}
\newcommand{\cO}{\ensuremath{\mathcal{O}}\xspace}
\newcommand{\cP}{\ensuremath{\mathcal{P}}\xspace}
\newcommand{\cQ}{\ensuremath{\mathcal{Q}}\xspace}
\newcommand{\cR}{\ensuremath{\mathcal{R}}\xspace}
\newcommand{\cS}{\ensuremath{\mathcal{S}}\xspace}
\newcommand{\cT}{\ensuremath{\mathcal{T}}\xspace}
\newcommand{\cU}{\ensuremath{\mathcal{U}}\xspace}
\newcommand{\cV}{\ensuremath{\mathcal{V}}\xspace}
\newcommand{\cW}{\ensuremath{\mathcal{W}}\xspace}
\newcommand{\cX}{\ensuremath{\mathcal{X}}\xspace}
\newcommand{\cY}{\ensuremath{\mathcal{Y}}\xspace}
\newcommand{\cZ}{\ensuremath{\mathcal{Z}}\xspace}

% Shorthand for math sans-serif letters.
\newcommand{\sA}{\ensuremath{\mathsf{A}}\xspace}
\newcommand{\sB}{\ensuremath{\mathsf{B}}\xspace}
\newcommand{\sC}{\ensuremath{\mathsf{C}}\xspace}
\newcommand{\sD}{\ensuremath{\mathsf{D}}\xspace}
\newcommand{\sE}{\ensuremath{\mathsf{E}}\xspace}
\newcommand{\sF}{\ensuremath{\mathsf{F}}\xspace}
\newcommand{\sG}{\ensuremath{\mathsf{G}}\xspace}
\newcommand{\sH}{\ensuremath{\mathsf{H}}\xspace}
\newcommand{\sI}{\ensuremath{\mathsf{I}}\xspace}
\newcommand{\sJ}{\ensuremath{\mathsf{J}}\xspace}
\newcommand{\sK}{\ensuremath{\mathsf{K}}\xspace}
\newcommand{\sL}{\ensuremath{\mathsf{L}}\xspace}
\newcommand{\sM}{\ensuremath{\mathsf{M}}\xspace}
\newcommand{\sN}{\ensuremath{\mathsf{N}}\xspace}
\newcommand{\sO}{\ensuremath{\mathsf{O}}\xspace}
\newcommand{\sP}{\ensuremath{\mathsf{P}}\xspace}
\newcommand{\sQ}{\ensuremath{\mathsf{Q}}\xspace}
\newcommand{\sR}{\ensuremath{\mathsf{R}}\xspace}
\newcommand{\sS}{\ensuremath{\mathsf{S}}\xspace}
\newcommand{\sT}{\ensuremath{\mathsf{T}}\xspace}
\newcommand{\sU}{\ensuremath{\mathsf{U}}\xspace}
\newcommand{\sV}{\ensuremath{\mathsf{V}}\xspace}
\newcommand{\sW}{\ensuremath{\mathsf{W}}\xspace}
\newcommand{\sX}{\ensuremath{\mathsf{X}}\xspace}
\newcommand{\sY}{\ensuremath{\mathsf{Y}}\xspace}
\newcommand{\sZ}{\ensuremath{\mathsf{Z}}\xspace}

% Shorthand for math blackboard bold letters (requires amsfonts package).
\newcommand{\bA}{\ensuremath{\mathbb{A}}\xspace}
\newcommand{\bB}{\ensuremath{\mathbb{B}}\xspace}
\newcommand{\bC}{\ensuremath{\mathbb{C}}\xspace}
\newcommand{\bD}{\ensuremath{\mathbb{D}}\xspace}
\newcommand{\bE}{\ensuremath{\mathbb{E}}\xspace}
\newcommand{\bF}{\ensuremath{\mathbb{F}}\xspace}
\newcommand{\bG}{\ensuremath{\mathbb{G}}\xspace}
\newcommand{\bH}{\ensuremath{\mathbb{H}}\xspace}
\newcommand{\bI}{\ensuremath{\mathbb{I}}\xspace}
\newcommand{\bJ}{\ensuremath{\mathbb{J}}\xspace}
\newcommand{\bK}{\ensuremath{\mathbb{K}}\xspace}
\newcommand{\bL}{\ensuremath{\mathbb{L}}\xspace}
\newcommand{\bM}{\ensuremath{\mathbb{M}}\xspace}
\newcommand{\bN}{\ensuremath{\mathbb{N}}\xspace}
\newcommand{\bO}{\ensuremath{\mathbb{O}}\xspace}
\newcommand{\bP}{\ensuremath{\mathbb{P}}\xspace}
\newcommand{\bQ}{\ensuremath{\mathbb{Q}}\xspace}
\newcommand{\bR}{\ensuremath{\mathbb{R}}\xspace}
\newcommand{\bS}{\ensuremath{\mathbb{S}}\xspace}
\newcommand{\bT}{\ensuremath{\mathbb{T}}\xspace}
\newcommand{\bU}{\ensuremath{\mathbb{U}}\xspace}
\newcommand{\bV}{\ensuremath{\mathbb{V}}\xspace}
\newcommand{\bW}{\ensuremath{\mathbb{W}}\xspace}
\newcommand{\bX}{\ensuremath{\mathbb{X}}\xspace}
\newcommand{\bY}{\ensuremath{\mathbb{Y}}\xspace}
\newcommand{\bZ}{\ensuremath{\mathbb{Z}}\xspace}


%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
% Math object definitions.
%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

% Operators.
\DeclareMathOperator{\righttriplearrows} {{\; \tikz{ \foreach \y in {0, 0.1, 0.2} { \draw [-stealth] (0, \y) -- +(0.5, 0);}} \; }}
\newcommand{\Righttriplearrows} {{\; \tikz{ \foreach \y in {0, 0.1, 0.2} { \draw [-stealth] (0, \y) -- +(0.5, 0);}} \; }}

% Actions and traces.
\makeatletter
\newcommand{\actiont}[1]{%
	\@tempswafalse
	\@for\next:=#1\do
	{\if@tempswa.\else\@tempswatrue\fi\texttt{\next}}%
}
\newcommand{\trace}[1]{\textit{\actiont{#1}}}
\makeatother

% Process constants.
\newcommand{\kP}[1][]{\if\relax\detokenize{#1}\relax\ensuremath{P}\else\ensuremath{P_{#1}}\fi\xspace}
\newcommand{\kQ}[1][]{\if\relax\detokenize{#1}\relax\ensuremath{Q}\else\ensuremath{Q_{#1}}\fi\xspace}
\newcommand*{\kSys}{\ensuremath{\textsc{Sys}}\xspace}

% Define check-mark, x-mark, and star-mark using dingbats from 'pifont' package.
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}
\newcommand{\smark}{\ding{86}}
\newcommand{\omark}{{\ensuremath{\cdot}}}

% Define rotate command.
\newcommand*\rot{\rotatebox{80}}

%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
% Environments.
%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

% Define the general environment 'QED' marker.
\newcommand*{\envqed}{\hfill$\blacksquare$}

% Checks if a counter exists.
\makeatletter
\newcommand*\ifcounter[1]{%
  \ifcsname c@#1\endcsname
    \expandafter\@firstoftwo
  \else
    \expandafter\@secondoftwo
  \fi
}

\ifcounter{chapter}{
  
  % Example environment.
  \newcounter{example}[chapter]
  \renewcommand{\theexample}{\thechapter.\arabic{example}}
  \newenvironment{example}[1][]{
    \refstepcounter{example}\bigskip
    \if\relax\detokenize{#1}\relax
      \noindent\textbf{Example~\theexample}.
    \else
      \noindent\textbf{Example~\theexample} (#1).
    \fi}
  {
    \envqed\bigskip
  }

  % Definition environment.
  \newcounter{definition}[chapter]
  \renewcommand{\thedefinition}{\thechapter.\arabic{definition}}
  \newenvironment{definition}[1][]{
    \refstepcounter{definition}\bigskip
    \if\relax\detokenize{#1}\relax
      \noindent\textbf{Definition~\thedefinition}.
    \else
      \noindent\textbf{Definition~\thedefinition} (#1).
    \fi}
  {
    \envqed\bigskip
  }

  % Theorem environment.
  \newcounter{theorem}[chapter]
  \renewcommand{\thetheorem}{\thechapter.\arabic{theorem}}
  \newenvironment{theorem}[1][]{
    \refstepcounter{theorem}\bigskip
    \if\relax\detokenize{#1}\relax
      \noindent\textbf{Theorem~\thetheorem}.
    \else
      \noindent\textbf{Theorem~\thetheorem} (#1).
    \fi}
  {
    \envqed\bigskip
  }
}
\makeatother



%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
% Algorithm configuration.
%:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

% Define easy-to-access lengths to configure algorithm-specific details.
\newlength{\algcolwidth}
\setlength{\algcolwidth}{0.48\textwidth}

% Reconfigure algorithm procedure name.
% \algrenewcommand\algorithmicprocedure{\textbf{def}}

% Reconfigure algorithm require name.
% \algrenewcommand\algorithmicrequire{\textbf{Expect:}\vspace{1em}}

% Reconfigure algorithm censure name.
% \algrenewcommand\algorithmicensure{\textbf{Output:}}

% Define command to separate different algorithm segments.
% \newcommand*{\alghrule}{\Statex \vspace{0.63\baselineskip}\hrule\vspace{0.00\baselineskip}}
% \newcommand*{\algindent}[1]{\hspace*{#1\algindentlength}}

% Define new algorithm command 'to' to be used in modified 'for' loop construct.
\algnewcommand\algorithmicto{\textbf{to}}
\algrenewtext{For}[3]%
  {\algorithmicfor\ #1\;$=$\;#2 \algorithmicto\ #3 \algorithmicdo}